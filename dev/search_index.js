var documenterSearchIndex = {"docs":
[{"location":"","page":"Home","title":"Home","text":"CurrentModule = GeoIP","category":"page"},{"location":"#GeoIP","page":"Home","title":"GeoIP","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"IP Geolocalization using the Geolite2 Database","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The package is registered in the General registry and so can be installed at the REPL with","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using Pkg\njulia> Pkg.add(\"GeoIP\")","category":"page"},{"location":"#Usage","page":"Home","title":"Usage","text":"","category":"section"},{"location":"#Data-files","page":"Home","title":"Data files","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"You can use MaxMind geolite2 csv files downloaded from the site. Due to the MaxMind policy, GeoLite.jl does not distribute GeoLite2 files and does not provide download utilities. For automated download it is recommended to use MaxMind GeoIP Update program. For proper functioning of GeoIP.jl you need to download GeoLite2 City datafile, usually it should have a name like GeoLite2-City-CSV_20191224.zip. ","category":"page"},{"location":"","page":"Home","title":"Home","text":"Files processing and loading provided with load() call. Directory where data is located should be located either in ENV[\"GEOIP_DATADIR\"] or it can be passed as an argument to load function. Zip file location can be passed as an argument or it can be stored in ENV[\"GEOIP_ZIPFILE\"]. For example","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GeoIP\n\ngeodata = load(zipfile = \"GeoLite2-City-CSV_20191224.zip\", datadir = \"/data\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"If ENV[\"GEOIP_DATADIR\"] is set to \"/data\" and ENV[\"GEOIP_ZIPFILE\"] is set to \"GeoLite2-City-CSV_20191224.zip\" then it is equivalent to","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GeoIP\n\ngeodata = load()","category":"page"},{"location":"#Example","page":"Home","title":"Example","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"You can get the ip data with the geolocate function or by using []","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GeoIP\n\ngeodata = load(zipfile = \"GeoLite2-City-CSV_20191224.zip\")\ngeolocate(geodata, ip\"1.2.3.4\")        # returns dictionary with all relevant information\n\n# Equivalent to\ngeodata[ip\"1.2.3.4\"]\n\n# Equivalent, but slower version\ngeodata[\"1.2.3.4\"]","category":"page"},{"location":"","page":"Home","title":"Home","text":"geolocate form is useful for broadcasting","category":"page"},{"location":"","page":"Home","title":"Home","text":"geolocate.(geodata, [ip\"1.2.3.4\", ip\"8.8.8.8\"])  # returns vector of geo data.","category":"page"},{"location":"#Localization","page":"Home","title":"Localization","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"It is possible to use localized version of geo files. To load localized data, one can use locales argument of the load function. To switch between different locales is possible with the help of setlocale function.","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GeoIP\n\ngeodata = load(zipfile = \"GeoLite2-City-CSV_20191224.zip\", locales = [:en, :fr])\n\ngeodata[ip\"201.186.185.1\"]\n# Dict{String, Any} with 21 entries:\n#   \"time_zone\"                     => \"America/Santiago\"\n#   \"subdivision_2_name\"            => missing\n#   \"accuracy_radius\"               => 100\n#   \"geoname_id\"                    => 3874960\n#   \"continent_code\"                => \"SA\"\n#   \"postal_code\"                   => missing\n#   \"continent_name\"                => \"South America\"\n#   \"locale_code\"                   => \"en\"\n#   \"subdivision_2_iso_code\"        => missing\n#   \"location\"                      => Location(-72.9436, -41.4709, 0.0, \"WGS84\")\n#   \"v4net\"                         => IPv4Net(\"201.186.185.0/24\")\n#   \"subdivision_1_name\"            => \"Los Lagos Region\"\n#   \"subdivision_1_iso_code\"        => \"LL\"\n#   \"city_name\"                     => \"Port Montt\"\n#   \"metro_code\"                    => missing\n#   \"registered_country_geoname_id\" => 3895114\n#   \"is_in_european_union\"          => 0\n#   \"is_satellite_provider\"         => 0\n#   \"is_anonymous_proxy\"            => 0\n#   \"country_name\"                  => \"Chile\"\n#   \"country_iso_code\"              => \"CL\"\n\ngeodata_fr = setlocale(geodata, :fr)\ngeodata_fr[ip\"201.186.185.1\"]\n# Dict{String, Any} with 21 entries:\n#   \"time_zone\"                     => \"America/Santiago\"\n#   \"subdivision_2_name\"            => missing\n#   \"accuracy_radius\"               => 100\n#   \"geoname_id\"                    => 3874960\n#   \"continent_code\"                => \"SA\"\n#   \"postal_code\"                   => missing\n#   \"continent_name\"                => \"AmÃ©rique du Sud\"\n#   \"locale_code\"                   => \"fr\"\n#   \"subdivision_2_iso_code\"        => missing\n#   \"location\"                      => Location(-72.9436, -41.4709, 0.0, \"WGS84\")\n#   \"v4net\"                         => IPv4Net(\"201.186.185.0/24\")\n#   \"subdivision_1_name\"            => missing\n#   \"subdivision_1_iso_code\"        => \"LL\"\n#   \"city_name\"                     => \"Puerto Montt\"\n#   \"metro_code\"                    => missing\n#   \"registered_country_geoname_id\" => 3895114\n#   \"is_in_european_union\"          => 0\n#   \"is_satellite_provider\"         => 0\n#   \"is_anonymous_proxy\"            => 0\n#   \"country_name\"                  => \"Chili\"\n#   \"country_iso_code\"              => \"CL\"","category":"page"},{"location":"","page":"Home","title":"Home","text":"During load procedure, it is possible to use either Symbol notation, i.e. locales = [:en, :fr] or one can pass Vector of Pair, where first argument is the locale name and second argument is a regular expression, which defines the name of the CSV file, which contains necessary localization. For example locales = [:en => r\"Locations-en.csv%\", :fr => r\"Locations-fr.csv\"]. By default, following locales are supported :en, :de, :ru, :ja, :es, :fr, :pt_br, :zh_cn.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Default locale, which is used in getlocale response can be set with the help of deflocale argument of the load function. For example, to get :fr locale by default","category":"page"},{"location":"","page":"Home","title":"Home","text":"geodata = load(zipfile = \"GeoLite2-City-CSV_20191224.zip\", locales = [:en, :fr], deflocale = :fr)","category":"page"},{"location":"#Acknowledgements","page":"Home","title":"Acknowledgements","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This product uses, but not include, GeoLite2 data created by MaxMind, available from http://www.maxmind.com.","category":"page"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"","page":"Home","title":"Home","text":"Modules = [GeoIP]","category":"page"},{"location":"#GeoIP.geolocate-Tuple{GeoIP.DB,Sockets.IPv4}","page":"Home","title":"GeoIP.geolocate","text":"geolocate(geodata::GeoIP.DB, ip)\n\nReturns geolocation and other information determined in geodata by ip.\n\n\n\n\n\n","category":"method"},{"location":"#GeoIP.load-Tuple{}","page":"Home","title":"GeoIP.load","text":"load(; datadir, zipfile, locales, deflocale)\n\nLoad GeoIP database from compressed CSV file. The argument zipfile should be provided, otherwise load function error. datadir defines where data files are located and can be either set as an argument or read from the ENV variable GEOIP_DATADIR. In the same way if ENV variable GEOIP_ZIPFILE is set, then it is used for determining zipfile argument.\n\nArgument locales determine locale files which should be loaded. Locales can be given as Symbols or Pairs of locale name and filename which contains corresponding locale, e.g. locales = [:en, :fr] or locales = [:en => r\"-en.csv\"]. Following locales are supported in Symbol version :en, :de, :ru, :ja, :es, :fr, :pt_br, :zh_cn. To set default locale use deflocale argument, e.g. deflocale = :en.\n\n\n\n\n\n","category":"method"},{"location":"#GeoIP.setlocale-Tuple{GeoIP.DB,Any}","page":"Home","title":"GeoIP.setlocale","text":"setlocale(db, localename)\n\nSet new locale which should be used in return results. If locale is not found, then current locale is going to be used.\n\n\n\n\n\n","category":"method"}]
}
